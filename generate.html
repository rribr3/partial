<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Generate Your Packing List - PackPal</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ§³</text></svg>">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(to right, #e0f7fa, #f1f8e9);
      font-family: 'Segoe UI', sans-serif;
    }

    .section-title {
      font-size: 2rem;
      font-weight: bold;
      color: #14532d;
    }

    .btn-fun {
      background: linear-gradient(45deg, #00c853, #64dd17);
      border: none;
      color: white;
      font-weight: bold;
    }

    .btn-fun:hover {
      background: linear-gradient(45deg, #00bfa5, #1de9b6);
    }

    .packing-list li {
      font-size: 1.1rem;
      transition: transform 0.3s ease;
    }

    .packing-list li:hover {
      transform: scale(1.05);
      background-color: #f1f8e9;
    }

    .card-glow {
      animation: glow 2s ease-in-out infinite alternate;
    }

    @keyframes glow {
      from {
        box-shadow: 0 0 10px #00c853;
      }
      to {
        box-shadow: 0 0 20px #64dd17;
      }
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-light bg-light mb-4">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold fs-3" href="index.html" style="color: #2c3e50; text-decoration: none; padding-left:50px">
        ğŸ§³ PackPal
      </a>
    </div>
  </nav>
  
<div class="container py-5">
  <h1 class="text-center section-title mb-4" data-aos="fade-down">ğŸ’ <span id="titleText">Generate Your Packing List</span></h1>

  <form id="tripForm" class="bg-white p-4 rounded shadow-sm" data-aos="zoom-in">
    <div class="row g-3">
      <div class="col-md-6">
        <label for="destination" class="form-label">ğŸŒ <span class="lang" data-key="destination">Destination</span></label>
        <select class="form-select" id="destination" required>
          <option value="" disabled selected>Select a country</option>
        </select>
      </div>
      <div class="col-md-3">
        <label for="startDate" class="form-label">ğŸ“… <span class="lang" data-key="startDate">Start Date</span></label>
        <input type="date" class="form-control" id="startDate" required>
      </div>
      <div class="col-md-3">
        <label for="endDate" class="form-label">ğŸ“… <span class="lang" data-key="endDate">End Date</span></label>
        <input type="date" class="form-control" id="endDate" required>
      </div>
    </div>

    <div class="mt-4">
      <label for="tripType" class="form-label">âœˆï¸ <span class="lang" data-key="tripType">Trip Type</span></label>
      <select class="form-select" id="tripType">
        <option value="leisure">Leisure</option>
        <option value="business">Business</option>
        <option value="adventure">Adventure</option>
      </select>
    </div>

    <div class="mt-4">
      <label class="form-label">ğŸ¯ <span class="lang" data-key="activities">Activities</span></label><br>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="hiking" value="Hiking">
        <label class="form-check-label" for="hiking">ğŸ¥¾ Hiking</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="swimming" value="Swimming">
        <label class="form-check-label" for="swimming">ğŸŠ Swimming</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="city" value="City Tour">
        <label class="form-check-label" for="city">ğŸ™ï¸ City Tour</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="photography" value="Photography">
        <label class="form-check-label" for="photography">ğŸ“¸ Photography</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="camping" value="Camping">
        <label class="form-check-label" for="camping">ğŸ•ï¸ Camping</label>
      </div>
      <div class="form-check form-check-inline">
        <input class="form-check-input" type="checkbox" id="skiing" value="Skiing">
        <label class="form-check-label" for="skiing">ğŸ¿ Skiing</label>
      </div>
    </div>

    <div class="mt-4">
      <label for="weatherToggle" class="form-label">â›… <span class="lang" data-key="weatherForecast">Include Weather Forecast?</span></label>
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" id="weatherToggle">
        <label class="form-check-label" for="weatherToggle">Toggle</label>
      </div>
    </div>

    <div class="mt-4">
      <label class="form-label">ğŸ“¦ <span class="lang" data-key="packingPref">Packing Preference</span></label>
      <select class="form-select" id="packingPref">
        <option value="light">Light</option>
        <option value="regular" selected>Regular</option>
        <option value="heavy">Heavy</option>
      </select>
    </div>

    <div class="text-center mt-4">
      <button type="submit" class="btn btn-fun btn-lg">âœ¨ <span class="lang" data-key="generateBtn">Generate List</span></button>
    </div>
  </form>

  <div id="resultSection" class="mt-5 d-none" data-aos="fade-up">
    <div class="card border-0 shadow card-glow">
      <div class="card-body">
        <h3 class="card-title text-center mb-3">ğŸ“¦ <span class="lang" data-key="yourList">Your Personalized Packing List</span></h3>
        <ul class="list-group list-group-flush packing-list" id="packingList"></ul>
        <div class="text-center mt-3">
          <button id="exportPDF" class="btn btn-outline-success">ğŸ–¨ï¸ Export as PDF</button>
        </div>
      </div>
    </div>
  </div>

  <div class="text-end mt-4">
    ğŸŒ <select id="languageSelector" class="form-select w-auto d-inline">
      <option value="en" selected>English</option>
      <option value="fr">FranÃ§ais</option>
    </select>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<script>
  AOS.init();

  const translations = {
    en: {
      titleText: "Generate Your Packing List",
      destination: "Destination",
      startDate: "Start Date",
      endDate: "End Date",
      tripType: "Trip Type",
      activities: "Activities",
      packingPref: "Packing Preference",
      weatherForecast: "Include Weather Forecast?",
      generateBtn: "Generate List",
      yourList: "Your Personalized Packing List"
    },
    fr: {
      titleText: "GÃ©nÃ©rez votre liste de bagages",
      destination: "Destination",
      startDate: "Date de dÃ©but",
      endDate: "Date de fin",
      tripType: "Type de voyage",
      activities: "ActivitÃ©s",
      packingPref: "PrÃ©fÃ©rence de bagage",
      weatherForecast: "Inclure la mÃ©tÃ©o ?",
      generateBtn: "GÃ©nÃ©rer la liste",
      yourList: "Votre liste de bagages personnalisÃ©e"
    }
  };

  document.getElementById("languageSelector").addEventListener("change", function () {
    const lang = this.value;
    const langEls = document.querySelectorAll(".lang");
    langEls.forEach(el => {
      const key = el.getAttribute("data-key");
      el.textContent = translations[lang][key];
    });
    document.getElementById("titleText").textContent = translations[lang].titleText;
  });

  const form = document.getElementById("tripForm");
  const packingList = document.getElementById("packingList");
  const resultSection = document.getElementById("resultSection");

  form.addEventListener("submit", async function (e) {
    e.preventDefault();
    packingList.innerHTML = "";
  
    const destination = document.getElementById("destination").value;
    const startDate = document.getElementById("startDate").value;
    const includeWeather = document.getElementById("weatherToggle").checked;
  
    const baseItems = ["ğŸ‘• T-shirts", "ğŸ‘– Pants/Shorts", "ğŸ§¦ Socks", "ğŸ§´ Toiletries", "ğŸ“± Phone + Charger", "ğŸ›‚ Passport/ID"];
    const activities = [];
  
    if (document.getElementById("hiking").checked) activities.push("ğŸ¥¾ Hiking Boots");
    if (document.getElementById("swimming").checked) activities.push("ğŸ©± Swimsuit");
    if (document.getElementById("city").checked) activities.push("ğŸ•¶ï¸ Sunglasses");
    if (document.getElementById("photography").checked) activities.push("ğŸ“¸ Camera");
    if (document.getElementById("camping").checked) activities.push("ğŸ•ï¸ Tent & Sleeping Bag");
    if (document.getElementById("skiing").checked) activities.push("ğŸ¿ Ski Gear");
  
    const packingPref = document.getElementById("packingPref").value;
    if (packingPref === "light") baseItems.pop();
    else if (packingPref === "heavy") baseItems.push("ğŸ§¥ Extra Jackets", "ğŸ©³ Extra Underwear");
  
    let allItems = [...baseItems, ...activities];
  
    if (includeWeather) {
      const weatherForecast = await fetchWeather(destination, startDate);
      allItems.push(...weatherForecast);
    }
  
    allItems.forEach(item => {
      const li = document.createElement("li");
      li.className = "list-group-item";
      li.textContent = item;
      packingList.appendChild(li);
    });
  
    resultSection.classList.remove("d-none");
    resultSection.scrollIntoView({ behavior: "smooth" });
  });
  

  document.getElementById("exportPDF").addEventListener("click", function () {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();
    doc.setFontSize(16);
    doc.text("Packing List", 10, 10);
    const items = Array.from(packingList.children).map(li => li.textContent);
    items.forEach((item, index) => doc.text("- " + item, 10, 20 + index * 10));
    doc.save("PackingList.pdf");
  });

  const countries = ["Afghanistan","Albania","Algeria","Andorra","Angola","Argentina",
  "Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain",
  "Bangladesh","Barbados","Belarus","Belgium","Belize","Benin",
  "Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil",
  "Brunei","Bulgaria","Burkina Faso","Burundi","Cambodia","Cameroon",
  "Canada","Cape Verde","Central African Republic","Chad","Chile",
  "China","Colombia","Comoros","Costa Rica","Croatia","Cuba",
  "Cyprus","Czech Republic","Denmark","Djibouti","Dominica",
  "Dominican Republic","Ecuador","Egypt","El Salvador",
  "Equatorial Guinea","Eritrea","Estonia","Eswatini","Ethiopia","Fiji",
  "Finland","France","Gabon","Gambia","Georgia","Germany","Ghana",
  "Greece","Grenada","Guatemala","Guinea","Guyana","Haiti","Honduras",
  "Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland",
  "Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya",
  "Kiribati","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon",
  "Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg",
  "Madagascar","Malawi","Malaysia","Maldives","Mali","Malta",
  "Mauritania","Mauritius","Mexico","Micronesia","Moldova","Monaco",
  "Mongolia","Montenegro","Morocco","Mozambique","Myanmar","Namibia",
  "Nauru","Nepal","Netherlands","NewÂ Zealand","Nicaragua","Niger",
  "Nigeria","NorthÂ Korea","NorthÂ Macedonia","Norway","Oman","Pakistan",
  "Palau","Panama","PapuaÂ NewÂ Guinea","Paraguay","Peru","Philippines",
  "Poland","Portugal","Qatar","Romania","Russia","Rwanda","SaintÂ Lucia",
  "Samoa","SanÂ Marino","SaudiÂ Arabia","Senegal","Serbia","Seychelles",
  "SierraÂ Leone","Singapore","Slovakia","Slovenia","SolomonÂ Islands",
  "Somalia","SouthÂ Africa","SouthÂ Korea","Spain","SriÂ Lanka","Sudan",
  "Suriname","Sweden","Switzerland","Syria","Taiwan","Tajikistan",
  "Tanzania","Thailand","Togo","Tonga","TrinidadÂ andÂ Tobago","Tunisia",
  "Turkey","Turkmenistan","Tuvalu","Uganda","Ukraine","UnitedÂ ArabÂ Emirates",
  "UnitedÂ Kingdom","UnitedÂ States","Uruguay","Uzbekistan","Vanuatu",
  "VaticanÂ City","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe"];
  const dropdown = document.getElementById("destination");
  countries.forEach(country => {
    const option = document.createElement("option");
    option.value = country;
    option.textContent = country;
    dropdown.appendChild(option);
  });

  async function fetchWeather(destination, startDate) {
    const apiKey = "833b96ac668f46f8aa990628252104";
    const url = `https://api.weatherapi.com/v1/forecast.json?key=${apiKey}&q=${destination}&dt=${startDate}&days=3`;
  
    try {
      const response = await fetch(url);
      const data = await response.json();
  
      if (data.forecast) {
        const forecastDays = data.forecast.forecastday.map(day => {
          return `ğŸŒ¡ï¸ ${day.date}: ${day.day.condition.text}, High: ${day.day.maxtemp_c}Â°C, Low: ${day.day.mintemp_c}Â°C`;
        });
        return forecastDays;
      } else {
        return ["âš ï¸ Weather info unavailable."];
      }
    } catch (error) {
      console.error("Weather fetch error:", error);
      return ["âš ï¸ Could not retrieve weather data."];
    }
  }
  
</script>

</body>
</html>
